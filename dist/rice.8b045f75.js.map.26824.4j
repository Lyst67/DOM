{"mappings":"AAAA,mCAAmC;AAEnC,MAAM,SAAS;IAAC;IAAW;IAAQ;IAAW;IAAc;CAAc;AAE1E,MAAM,OAAO;IACX,SAAS,SAAS,cAAc;IAChC,aAAa,SAAS,cAAc;IACpC,eAAe,SAAS,cAAc;IACtC,aAAa,SAAS,cAAc;AACtC;AAEA,IAAI,YAAY;AAChB,KAAK,QAAQ,iBAAiB,SAAS;IACrC,aAAa;IACb,kBAAkB;IAClB,MAAM,WAAW,OAAO,IAAI,CAAC,QAAU,IAAI;IAC3C,oBAAoB;IACpB,QAAQ,IAAI,wBAAwB;IACpC,QAAQ,KAAK,UAAU,KAAK,CAAC,EAAE,KAAK,EAAE,IAAI,EAAE;QAC1C,kBACE,CAAC,mBAAmB,EAAE,MAAM,iBAAiB,EAAE,KAAK,OAAO,CAAC;QAE9D,QAAQ,IACN,CAAC,sBAAsB,EAAE,MAAM,iBAAiB,EAAE,KAAK,OAAO,CAAC,EAC/D;QAEF,kBAAkB;YAAE;YAAO;YAAM;QAAU;IAC7C;IACA,QAAQ,IAAI,UAAU,KAAK,CAAC;QAC1B,oBAAoB;QACpB,QAAQ,IACN,uBACA,sCACA;IAEJ;AACF;AAEA,SAAS,oBAAoB,OAAO;IAClC,KAAK,cAAc,cAAc;AACnC;AACA,SAAS,kBAAkB,OAAO;IAChC,KAAK,YAAY,cAAc;AACjC;AACA,SAAS,IAAI,KAAK;IAChB,OAAO,IAAI,QAAQ,CAAC,SAAS;QAC3B,MAAM,OAAO,cAAc,MAAM;QACjC,WAAW;YACT,QAAQ;gBAAE;gBAAO;YAAK;QACxB,GAAG;IACL;AACF;AACA,SAAS,cAAc,GAAG,EAAE,GAAG;IAC7B,OAAO,KAAK,MAAM,KAAK,WAAY,CAAA,MAAM,MAAM,CAAA,IAAK;AACtD;AACA,SAAS,kBAAkB,EAAE,KAAK,EAAE,IAAI,EAAE,SAAS,EAAE;IACnD,MAAM,KAAK,CAAC;UACJ,EAAE,UAAU;UACZ,EAAE,MAAM;UACR,EAAE,KAAK;SACR,CAAC;IACR,KAAK,YAAY,mBAAmB,aAAa;AACnD","sources":["src/js/race.js"],"sourcesContent":["//======= ЗАБІГ Promise =========//\r\n\r\nconst horses = [\"Senator\", \"Fire\", \"Eclipse\", \"Flying Fox\", \"Black Nigth\"];\r\n\r\nconst refs = {\r\n  raceBtn: document.querySelector(\".js-race-btn\"),\r\n  winnerField: document.querySelector(\".js-winner\"),\r\n  progressField: document.querySelector(\".js-progress\"),\r\n  tableResult: document.querySelector(\".js-result > tbody\"),\r\n};\r\n\r\nlet raceCount = 0;\r\nrefs.raceBtn.addEventListener(\"click\", () => {\r\n  raceCount += 1;\r\n  updateWinnerField(\"Старт!\");\r\n  const promises = horses.map((horse) => run(horse));\r\n  updateProgressField(\"Забіг розпочався!\");\r\n  console.log(\"%c Забіг розпочався!\", \"color: coral; font-size: 14px;\");\r\n  Promise.race(promises).then(({ horse, time }) => {\r\n    updateWinnerField(\r\n      `Перемогла коняка: \"${horse}\" з результатом: ${time}секунд!`\r\n    );\r\n    console.log(\r\n      `%c Перемогла коняка: \"${horse}\" з результатом: ${time}секунд!`,\r\n      \"color: lightgreen; font-size: 14px;\"\r\n    );\r\n    updateWinnerTable({ horse, time, raceCount });\r\n  });\r\n  Promise.all(promises).then((result) => {\r\n    updateProgressField(\"Забіг закінчено!\");\r\n    console.log(\r\n      \"%c Забіг закінчено!\",\r\n      \"color: lightblue; font-size: 14px;\",\r\n      result\r\n    );\r\n  });\r\n});\r\n\r\nfunction updateProgressField(message) {\r\n  refs.progressField.textContent = message;\r\n}\r\nfunction updateWinnerField(message) {\r\n  refs.winnerField.textContent = message;\r\n}\r\nfunction run(horse) {\r\n  return new Promise((resolve, reject) => {\r\n    const time = getRandomTime(1500, 3500);\r\n    setTimeout(() => {\r\n      resolve({ horse, time });\r\n    }, time);\r\n  });\r\n}\r\nfunction getRandomTime(min, max) {\r\n  return Math.floor(Math.random() * (max - min + 1) + min);\r\n}\r\nfunction updateWinnerTable({ horse, time, raceCount }) {\r\n  const tr = `<tr>\r\n      <td>${raceCount}</td>\r\n      <td>${horse}</td>\r\n      <td>${time}</td>\r\n    </tr>`;\r\n  refs.tableResult.insertAdjacentHTML(\"beforeend\", tr);\r\n}\r\n"],"names":[],"version":3,"file":"rice.8b045f75.js.map","sourceRoot":"/__parcel_source_root/"}